(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+5i3":function(e,t,n){},0:function(e,t,n){n("4mDm"),n("ls82"),n("kOmT"),e.exports=n("+5i3")},d0we:function(e,t,n){!function(){function e(){document.documentElement.style.setProperty("--full-viewport","".concat(window.innerHeight,"px"))}e(),window.addEventListener("resize",(function(){e()}))}(window,document)},kOmT:function(e,t,n){"use strict";n.r(t);n("07d7"),n("5s+n"),n("ls82"),n("pNMO"),n("4Brf"),n("0oug"),n("pjDv"),n("yXV3"),n("4mDm"),n("ToJy"),n("DQNa"),n("JfAA"),n("PKPk"),n("3bBZ");var i=n("Womt");n("oVuX"),n("sMBO"),n("4l63"),n("TWNs"),n("rB9j"),n("UxlC"),n("EnZy");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t,n){function i(e,t){return o(e)===t}function r(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):v?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function s(){var e=t.body;return e||((e=r(v?"svg":"body")).fake=!0),e}var a=[],l=[],u={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout((function(){t(n[e])}),0)},addTest:function(e,t,n){l.push({name:e,fn:t,options:n})},addAsyncTest:function(e){l.push({name:null,fn:e})}},c=function(){};c.prototype=u,c=new c;var h=t.documentElement,v="svg"===h.nodeName.toLowerCase(),f=u._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];u._prefixes=f;var d=u.testStyles=function(e,n,i,o){var a,l,u,c,v="modernizr",f=r("div"),d=s();if(parseInt(i,10))for(;i--;)(u=r("div")).id=o?o[i]:v+(i+1),f.appendChild(u);return(a=r("style")).type="text/css",a.id="s"+v,(d.fake?d:f).appendChild(a),d.appendChild(f),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),f.id=v,d.fake&&(d.style.background="",d.style.overflow="hidden",c=h.style.overflow,h.style.overflow="hidden",h.appendChild(d)),l=n(f,e),d.fake?(d.parentNode.removeChild(d),h.style.overflow=c,h.offsetHeight):f.parentNode.removeChild(f),!!l};c.addTest("touchevents",(function(){var n;if("ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch)n=!0;else{var i=["@media (",f.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");d(i,(function(e){n=9===e.offsetTop}))}return n})),function(){var e,t,n,o,r,s;for(var u in l)if(l.hasOwnProperty(u)){if(e=[],(t=l[u]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(o=i(t.fn,"function")?t.fn():t.fn,r=0;r<e.length;r++)1===(s=e[r].split(".")).length?c[s[0]]=o:(!c[s[0]]||c[s[0]]instanceof Boolean||(c[s[0]]=new Boolean(c[s[0]])),c[s[0]][s[1]]=o),a.push((o?"":"no-")+s.join("-"))}}(),function(e){var t=h.className,n=c._config.classPrefix||"";if(v&&(t=t.baseVal),c._config.enableJSClass){var i=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(i,"$1"+n+"js$2")}c._config.enableClasses&&(t+=" "+n+e.join(" "+n),v?h.className.baseVal=t:h.className=t)}(a),delete u.addTest,delete u.addAsyncTest;for(var p=0;p<c._q.length;p++)c._q[p]();e.Modernizr=c}(window,document);n("d0we");function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var s=function(e){return[Math.cos(e),-Math.sin(e),Math.sin(e),Math.cos(e)]},a=function(e,t){var n=e[0],i=e[1],o=e[2],r=e[3],s=t[0],a=t[1];return[Math.abs(s*n+a*o),Math.abs(s*i+a*r)]};Document.prototype.ready=function(e){e&&"function"==typeof e&&document.addEventListener("DOMContentLoaded",(function(){if("interactive"===document.readyState||"complete"===document.readyState)return e()}))};var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.max(t,Math.min(n,e))},u=function(e,t,n,i,o){return i+(o-i)*(e-t)/(n-t)},c=function(e,t){var n=e.x,o=e.y,r=t.width,l=t.height,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=a(s(i.e.degToRad(u)),[n,o]),h={w:c[0]/r,h:c[1]/l},v=1/Math.max(h.w,h.h);return new i.l(h.w*v,h.h*v)},h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=new CustomEvent(e,{detail:t},{once:n});document.dispatchEvent(i)};n("QWBl"),n("Junv"),n("eoL8"),n("FZtP");var v=n("z/o8"),f=n("Gx3p"),d=n.n(f);function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.holder=t,this.shown=!1,this.animationSpeed=.35,this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.defaultText=this.holder.querySelector(".link__text--default"),this.italicText=this.holder.querySelector(".link__text--italic"),this.defaultTextSplit=this.defaultText&&d()({target:this.defaultText,whitespace:!0})[0],this.italicTextSplit=this.italicText&&d()({target:this.italicText,whitespace:!0})[0],this.defaultLetters=this.defaultTextSplit.chars,this.italicLetters=this.italicTextSplit.chars,this.staggerDelay=this.animationSpeed/this.defaultLetters.length,this.showTimeline=this.show(),this.hideTimeline=this.hide(),v.g.set([this.defaultLetters,this.italicText],{opacity:1}),v.g.set(this.italicLetters,{opacity:0}),this.attachEvents()}},{key:"attachEvents",value:function(){var e=this;this.holder.addEventListener("mouseenter",(function(){e.triggerShow()})),this.holder.addEventListener("touchstart",(function(){e.triggerShow()})),this.holder.addEventListener("mouseleave",(function(){e.triggerHide()})),this.holder.addEventListener("touchend",(function(){e.triggerHide()}))}},{key:"triggerShow",value:function(){this.shown?this.hideTimeline.reverse():this.showTimeline.play(0)}},{key:"triggerHide",value:function(){this.shown?this.hideTimeline.play(0):this.showTimeline.reverse()}},{key:"show",value:function(){var e=this,t=new v.e({paused:!0,onComplete:function(){e.shown=!0}});return t.staggerFromTo(this.defaultLetters,this.animationSpeed,{opacity:1},{opacity:0,ease:Circ.easeOut},this.staggerDelay,0),t.staggerFromTo(this.italicLetters,this.animationSpeed,{opacity:0},{opacity:1,ease:Circ.easeIn},this.staggerDelay,this.staggerDelay),t}},{key:"hide",value:function(){var e=this,t=new v.e({paused:!0,onComplete:function(){e.shown=!1}});return t.staggerFromTo(this.italicLetters,this.animationSpeed,{opacity:1},{opacity:0,ease:Circ.easeOut},this.staggerDelay,0),t.staggerFromTo(this.defaultLetters,this.animationSpeed,{opacity:0},{opacity:1,ease:Circ.easeIn},this.staggerDelay,this.staggerDelay),t}}])&&p(t.prototype,n),i&&p(t,i),e}();n("2B1R");function y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.holder=t,this.texts=y(this.holder.querySelectorAll("[data-scroll-indicator-text]")),this.animationSpeed=2,this.texts.length&&this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=this,t=new v.e({repeat:-1});this.texts.map((function(n,i){var o=v.g.fromTo(n,e.animationSpeed,{y:"-150%",delay:e.animationSpeed},{y:"0%",onComplete:function(){v.g.fromTo(n,e.animationSpeed,{y:"0%"},{y:"150%"})}});t.add(o)})),t.play()}}])&&g(t.prototype,n),i&&g(t,i),e}();n("NBAS"),n("ExoC");var b={start:"MenuInStart",end:"MenuInEnd"},x={start:"MenuOutStart",end:"MenuOutEnd"},S={start:"PreloaderOutStart",end:"PreloaderOutEnd"},k={in:{start:"AjaxInStart",end:"AjaxInEnd"},out:{start:"AjaxOutStart",end:"AjaxOutEnd"}},_=".LocomotiveScroll",E={namespace:_,ready:"ready".concat(_),scrolling:"scrolling".concat(_),update:"update".concat(_),destroy:"destroy".concat(_),stop:"stop".concat(_),play:"play".concat(_),call:"call".concat(_),scrollTo:"scrollTo".concat(_)},O={activeClass:"custom-cursor--enabled",innactiveClass:"is-stopped",hoverClass:"is-hover",animationSpeed:.4,node:"[data-page-cursor]"},C={zoom:"TileZoom",scroll:"animateTile"},T={toggle:"ViewToggle"},M={toggle:"DetailToggle"},A="lazyLoaded",L=document.documentElement,P=document.body;function I(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var j=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.holder=t,this.touch=window.Modernizr&&window.Modernizr.touchevents,this.namespace=this.holder.dataset.scrollCall,this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.selector='[data-scroll-call="'.concat(this.namespace,'"]'),this.animationSpeed=this.holder.dataset.speed?parseInt(this.holder.dataset.speed):.75,this.animationDelay=this.holder.dataset.delay?parseInt(this.holder.dataset.delay):.2,this.attachEvents()}},{key:"attachEvents",value:function(){var e=this;document.addEventListener(E.call,(function(t){e.scrollData=t.detail.scrollData,e.scrollData.name===e.namespace&&!e.holder.dataset.show&&e.scrollData.obj.inView&&e.holder.classList.contains(e.scrollData.obj.class)&&(e.holder.dataset.show=!0,e.show())})),this.holder.addEventListener("triggerAnimation",(function(t){e.show()}))}},{key:"show",value:function(){var e=new v.e;return e.fromTo(this.holder,this.animationSpeed,{opacity:0},{opacity:1,ease:v.c.easeInOut},this.animationDelay),e}},{key:"hide",value:function(){var e=new v.e;return e.fromTo(this.holder,this.animationSpeed,{opacity:1},{opacity:0,ease:v.c.easeInOut},this.animationDelay),e}}])&&I(t.prototype,n),i&&I(t,i),e}();function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),D(this,B(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,e),t}(j);n("5DmW"),n("XUE8");function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function V(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e,t,n){return(N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var X=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),V(this,$(t).call(this,e))}var n,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,e),n=t,(i=[{key:"init",value:function(){N($(t.prototype),"init",this).call(this),this.splitter=d()({target:this.holder,by:"lines",whitespace:!1})[0],this.lines=this.splitter.lines,this.lines.map((function(e){var t=document.createElement("span");t.classList.add("splitted-title__line"),function(e,t){for(var n=e[0].parentNode,i=e[0].previousSibling,o=0;e.length-o;t.firstChild===e[0]&&o++)t.appendChild(e[o]);var r=i?i.nextSibling:n.firstChild;n.insertBefore(t,r)}(e,t)})),this.holder.dataset.animate||TweenMax.set(this.lines,{y:"120%"})}},{key:"show",value:function(){var e=this,t=new TimelineMax({onComplete:function(){return e.holder.dataset.shown=!0}});return t.staggerFromTo(this.lines,this.animationSpeed,{y:"150%"},{y:"0%",ease:Circ.easeOut,clearProps:"y"},this.animationSpeed/this.lines.length,this.animationDelay),t}}])&&F(n.prototype,i),o&&F(n,o),t}(j);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function G(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e,t,n){return(Z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=J(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Q=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),G(this,J(t).call(this,e))}var n,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(t,e),n=t,(i=[{key:"init",value:function(){Z(J(t.prototype),"init",this).call(this),this.animationDelay=0,Z(J(t.prototype),"touch",this)||TweenMax.set(this.holder,{transformOrigin:"100% 100%"})}},{key:"show",value:function(){var e=new TimelineMax;return e.fromTo(this.holder,this.animationSpeed,{scaleX:0},{scaleX:1,ease:Circ.easeOut},this.animationDelay),e}}])&&Y(n.prototype,i),o&&Y(n,o),t}(j);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e,t,n){return(oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=re(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var se=function(e){function t(e){var n,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,n=!(o=re(t).call(this,e))||"object"!==ee(o)&&"function"!=typeof o?ne(i):o,oe(re(t.prototype),"init",ne(n)).call(ne(n)),n}var n,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(t,e),n=t,(i=[{key:"init",value:function(){this.animationDelay=0,TweenMax.set(this.holder,{transformOrigin:"100% 100%"})}},{key:"show",value:function(){this.touch||h(C.scroll,{tile:this.holder})}}])&&te(n.prototype,i),o&&te(n,o),t}(j);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ue(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e,t,n){return(ce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=he(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ue(this,he(t).call(this,e))).header=document.querySelector(".header"),n.attr="data-theme",n}var n,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(t,e),n=t,(i=[{key:"init",value:function(){ce(he(t.prototype),"init",this).call(this)}},{key:"attachEvents",value:function(){this.render()}},{key:"show",value:function(){"enter"===this.scrollData.direction?this.inverse():this.default()}},{key:"inverse",value:function(){this.header.setAttribute(this.attr,this.holder.dataset.theme)}},{key:"default",value:function(){this.header.removeAttribute(this.attr)}},{key:"check",value:function(){this.bounds=this.holder.getBoundingClientRect(),this.headerBounds=this.header.getBoundingClientRect();var e=this.bounds,t=e.top,n=e.bottom,i=this.headerBounds.height/2;t<i&&n>i&&!this.isInverse?(this.inverse(),this.isInverse=!0):(n<i&&this.isInverse||t>i&&this.isInverse)&&(this.default(),this.isInverse=!1),this.render()}},{key:"render",value:function(){var e=this;this.raf=requestAnimationFrame((function(){return e.check()}))}}])&&le(n.prototype,i),o&&le(n,o),t}(j);function de(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var pe=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.holder=t,this.animationSpeed=.35,this.eventName="pauseVideo",this.activeClassName="video-is-playing",this.clickHandlerBound=function(){return n.clickHandler()},this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.video=this.holder.querySelector("video"),this.video&&(this.overlay=this.holder.querySelector("[data-video-thumbnail]"),this.playButton=this.holder.querySelector("[data-play-button]"),this.playIcon=this.playButton.querySelector(".button__play-icon"),this.pauseIcon=this.playButton.querySelector(".button__pause-icon"),this.videoPlaying=!1,this.attachEvents())}},{key:"attachEvents",value:function(){var e=this;this.holder.addEventListener("click",this.clickHandlerBound),this.video.addEventListener("play",(function(){return e.playVideo()})),this.video.addEventListener("pause",(function(){return e.playVideo().reverse(0)})),document.addEventListener(E.call,(function(t){e.scrollData=t.detail.scrollData,e.scrollData.name===e.eventName&&e.scrollData.obj.inView&&!e.video.paused&&e.video.pause()}))}},{key:"clickHandler",value:function(){event.preventDefault(),this.changeVideoState()}},{key:"changeVideoState",value:function(){this.video.paused?(this.video.play(),this.holder.classList.add(this.activeClassName)):(this.video.pause(),this.holder.classList.remove(this.activeClassName))}},{key:"playVideo",value:function(){var e=new v.e;return e.fromTo([this.overlay,this.playIcon],this.animationSpeed,{autoAlpha:1},{autoAlpha:0},0),e.fromTo(this.playButton,this.animationSpeed,{scale:1},{scale:.5,transformOrigin:"50% 50%"},0),e.fromTo([this.video,this.pauseIcon],this.animationSpeed,{autoAlpha:0},{autoAlpha:1},0),e}}])&&de(t.prototype,n),i&&de(t,i),e}();n("zKZe"),n("Wr5T");function me(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ye(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ge=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediaToLoad=me(t),this.mediaToLoad.length&&(this.loadingFinished=!1,this.loadedEvent=new Event(A),this.settings=Object.assign({},{defaultType:"image",imageSettings:{name:"image",attr:"data-src",loadAttr:"src"},backgroundSettings:{name:"background",attr:"data-background",loadAttr:"style"}},n))}var t,n,i;return t=e,(n=[{key:"loadImages",value:function(){var e=this;return new Promise((function(t,n){var i;return regeneratorRuntime.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,i=e.mediaToLoad.map((function(t){return e.loadImage(t)})),o.next=4,regeneratorRuntime.awrap(Promise.all(i));case 4:e.loadingFinished=!0,e.settings.holder&&(e.settings.holder,e.settings.holder.dispatchEvent(e.loadedEvent)),t(),o.next=13;break;case 9:o.prev=9,o.t0=o.catch(0),n();case 13:case"end":return o.stop()}}),null,null,[[0,9]])}))}},{key:"loadImage",value:function(e){var t=this;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,i){return regeneratorRuntime.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,t.isImage(e)){o.next=6;break}return o.next=4,regeneratorRuntime.awrap(t.performLoading(e,t.settings.backgroundSettings));case 4:o.next=8;break;case 6:return o.next=8,regeneratorRuntime.awrap(t.performLoading(e,t.settings.imageSettings));case 8:n(),o.next=15;break;case 11:o.prev=11,o.t0=o.catch(0),i();case 15:case"end":return o.stop()}}),null,null,[[0,11]])})));case 1:case"end":return n.stop()}}))}},{key:"performLoading",value:function(e,t){var n=this;return regeneratorRuntime.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",new Promise((function(i,o){try{if(!e.hasAttribute(t.attr))return;var r=e.getAttribute(t.attr);n.isImage(e)?e.setAttribute(t.loadAttr,r):e.style.backgroundImage="url(".concat(r,")"),e.removeAttribute(t.attr),i(),e.dataset.loaded=!0}catch(e){o()}})));case 1:case"end":return i.stop()}}))}},{key:"isImage",value:function(e){return e.hasAttribute(this.settings.imageSettings.attr)}}])&&ye(t.prototype,n),i&&ye(t,i),e}();function we(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function be(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var xe=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.holder=t,this.settings=Object.assign({},{imagesSelector:"[data-src], [data-background]",DOM:{visual:"[data-lazy-image]"},observerConfig:{rootMargin:"150%"}},n),this.images=we(this.holder.querySelectorAll(this.settings.imagesSelector)),this.images.length&&(this.lazyLoad=new ge(this.images,{holder:this.holder}),this.init())}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.attachEvents()}},{key:"attachEvents",value:function(){this.initObserver(),this.observer.observe(this.holder)}},{key:"initObserver",value:function(){var e=this;this.observer=new IntersectionObserver((function(t){t.forEach((function(t){return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.isIntersecting){n.next=4;break}return e.observer.unobserve(t.target),n.next=4,regeneratorRuntime.awrap(e.lazyLoad.loadImages());case 4:case"end":return n.stop()}}))}))}),this.settings.observerConfig)}}])&&be(t.prototype,n),i&&be(t,i),e}();function Se(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ke(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var _e=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.touch=window.Modernizr&&window.Modernizr.touchevents,this.cursor=L.querySelector(O.node),this.moveEvent="mousemove",this.enterEvent="mouseenter",this.leaveEvent="mouseleave",this.hoverClass=O.hoverClass,this.activeClass=O.activeClass,this.stoppedClass=O.innactiveClass,this.animationSpeed=O.animationSpeed,this.cursorDelaySpeed=O.cursorDelaySpeed,this.rafID=null,this.magnetTreshold=30,this.magnetDataSelector="data-magnet-item",this.videoSelector="data-video-block",this.playButtonSelector="data-play-button",this.handleMouseEnterBound=function(){return t.handleMouseEnter()},this.handleMouseLeaveBound=function(){return t.handleMouseLeave()},this.handleMagnetMouseMoveBound=function(){return t.handleMagnetMouseMove()},this.handleMagnetMouseEnterBound=function(){return t.handleMagnetMouseEnter()},this.handleMagnetMouseLeaveBound=function(){return t.handleMagnetMouseLeave()},this.handleVideoBlockEnterBounds=function(){return t.handleVideoBlockEnter()},this.handleVideoBlockLeaveBounds=function(){return t.handleVideoBlockLeave()},this.handleVideoBlockMoveBounds=function(){return t.handleVideoBlockMove()},this.initCursor()}var t,n,i;return t=e,(n=[{key:"unveilCursor",value:function(e){var t=this;setTimeout((function(){t.cursorSpeed=t.cursorDelaySpeed}),1e3*this.cursorDelaySpeed)}},{key:"initCursor",value:function(){var e=this;this.cursor&&(this.cursorSpeed=0,this.easing=Expo.eseInOut,this.clientX=-100,this.clientY=-100,this.unveilCursor(),L.addEventListener(this.moveEvent,(function(t){e.unveilCursor(t),e.setPosition(t)})),this.initHovers(),this.render(),L.classList.add(this.activeClass))}},{key:"setPosition",value:function(e){this.clientX=e.clientX,this.clientY=e.clientY}},{key:"findHoverElements",value:function(){this.links=Se(L.querySelectorAll("a[href], button, .button")),this.magnetLinks=Se(L.querySelectorAll("[".concat(this.magnetDataSelector,"]"))),this.videoBlocks=Se(L.querySelectorAll("[".concat(this.videoSelector,"]")))}},{key:"handleMouseEnter",value:function(){v.g.to(this.cursor,this.animationSpeed,{scale:1.33})}},{key:"handleMouseLeave",value:function(){v.g.to(this.cursor,this.animationSpeed,{scale:1})}},{key:"handleMagnetMouseEnter",value:function(){this.activeMagnetCursor()}},{key:"handleMagnetMouseLeave",value:function(){this.resetMagnetCursor()}},{key:"activeMagnetCursor",value:function(){var e=event.target;this.magnetLinkBounds=e.getBoundingClientRect();var t=this.magnetLinkBounds,n=t.top,i=t.left,o=t.width,r=t.height;this.linkStartPositionX=-1*Math.floor(i-this.cursorX)-o/2+this.cursorBounds.width/2,this.linkStartPositionY=-1*Math.floor(n-this.cursorY)-r/2+this.cursorBounds.height/2,this.isNeededTarget(e,this.magnetDataSelector)&&(e.classList.add(this.hoverClass),L.addEventListener(this.moveEvent,this.handleMagnetMouseMoveBound))}},{key:"resetMagnetCursor",value:function(){var e=event.target;this.isNeededTarget(e,this.magnetDataSelector)&&(e.classList.remove(this.hoverClass),v.g.to(event.target,this.animationSpeed,{x:0,y:0,clearProps:"x, y"}),L.removeEventListener(this.moveEvent,this.handleMagnetMouseMoveBound))}},{key:"handleMagnetMouseMove",value:function(){var e=event.target;if(this.isNeededTarget(e,this.magnetDataSelector)){var t=this.magnetLinkBounds,n=t.top,i=t.left,o=t.width,r=t.height,s=-1*(i-this.cursorX)-o/2+this.cursorBounds.width/2,a=-1*(n-this.cursorY)-r/2+this.cursorBounds.height/2,u=l(s,this.linkStartPositionX-this.magnetTreshold,this.linkStartPositionX+this.magnetTreshold),c=l(a,this.linkStartPositionY-this.magnetTreshold,this.linkStartPositionY+this.magnetTreshold);v.g.to(e,.35,{x:u,y:c})}}},{key:"isNeededTarget",value:function(e,t){return e.hasAttribute(t)}},{key:"handleVideoBlockEnter",value:function(){this.video=event.target,this.playButton=this.video.querySelector("[".concat(this.playButtonSelector,"]")),this.playButtonBounds=this.playButton&&this.playButton.getBoundingClientRect(),this.playButtonSizes=this.playButton&&this.playButton.getBoundingClientRect(),this.videoBounds=this.video&&this.video.getBoundingClientRect(),this.playButton.classList.add(this.hoverClass),this.playButtonSizes=this.playButton&&this.playButton.getBoundingClientRect(),this.handleVideoBlockMove()}},{key:"handleVideoBlockMove",value:function(){var e=this.video.getBoundingClientRect(),t=this.playButtonBounds,n=t.left,i=t.top,o=this.playButtonSizes,r=o.width,s=o.height,a=-1*(n-this.cursorX)-r/2+this.cursorBounds.width/2,u=-1*(i-this.cursorY)-s/2+this.cursorBounds.height/2+(this.videoBounds.top-e.top);v.g.set(this.playButton,{pointerEvents:"none"}),v.g.to(this.cursor,this.animationSpeed,{scale:0,opacity:0}),v.g.set(this.playButton,{x:a,y:l(u,-e.height/2,e.height/2)}),this.renderVideoMove()}},{key:"renderVideoMove",value:function(){this.playBtnMoveRaf=requestAnimationFrame(this.handleVideoBlockMoveBounds)}},{key:"handleVideoBlockLeave",value:function(){v.g.to(this.playButton,this.animationSpeed,{x:0,y:0,pointerEvents:"all"}),v.g.to(this.cursor,this.animationSpeed,{scale:1,opacity:1}),this.playButton.classList.remove(this.hoverClass),cancelAnimationFrame(this.playBtnMoveRaf)}},{key:"initHovers",value:function(){var e=this;this.findHoverElements(),this.links.map((function(t){t.addEventListener(e.enterEvent,e.handleMouseEnterBound),t.addEventListener(e.leaveEvent,e.handleMouseLeaveBound)})),this.touch||(this.magnetLinks.map((function(t){t.addEventListener(e.enterEvent,e.handleMagnetMouseEnterBound),t.addEventListener(e.leaveEvent,e.handleMagnetMouseLeaveBound)})),this.videoBlocks.map((function(t){t.addEventListener(e.enterEvent,e.handleVideoBlockEnterBounds),t.addEventListener(e.leaveEvent,e.handleVideoBlockLeaveBounds)})))}},{key:"render",value:function(){this.cursorBounds=this.cursor.getBoundingClientRect(),this.cursorX=this.clientX-this.cursor.offsetWidth/2,this.cursorY=this.clientY-this.cursor.offsetHeight/2,v.g.to(this.cursor,this.cursorSpeed,{x:this.cursorX,y:this.cursorY}),this.raf()}},{key:"raf",value:function(){this.rafID=requestAnimationFrame(this.render.bind(this)),this.cursor.classList.remove(this.stoppedClass)}},{key:"stopCursor",value:function(){cancelAnimationFrame(this.rafID),this.cursor.classList.add(this.stoppedClass)}},{key:"destroyCursor",value:function(){L.removeEventListener(this.moveEvent,this.unveilCursor),L.removeEventListener(this.moveEvent,this.setPosition),cancelAnimationFrame(this.rafID)}}])&&ke(t.prototype,n),i&&ke(t,i),e}();n("ma9I");function Ee(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Oe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.holder=t,this.updateInterval=3600,this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.setTime(),this.updateTime()}},{key:"setTime",value:function(){this.currentHour=(new Date).toLocaleTimeString("ru-RU",{timeZone:"Europe/Kiev",hour:"2-digit"}),this.currentMinutes=(new Date).toLocaleTimeString("ru-RU",{timeZone:"Europe/Kiev",minute:"2-digit"}),this.currentMinutes<10?this.currentMinutes="0".concat(this.currentMinutes):this.currentMinutes,this.holder.innerHTML="".concat(this.currentHour,' <span class="separator">:</span> ').concat(this.currentMinutes),this.separator=this.holder.querySelector(".separator"),v.g.to(this.separator,1,{repeat:-1,yoyo:!0,opacity:0})}},{key:"updateTime",value:function(){var e=this;setInterval((function(){e.setTime()}),this.updateInterval)}}])&&Ee(t.prototype,n),i&&Ee(t,i),e}();function Ce(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Te=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.holder=t,this.touch=window.Modernizr&&window.Modernizr.touchevents,this.target=this.holder.dataset.target||this.holder.getAttribute("href"),this.targetNode=document.querySelector(this.target),this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=this;this.holder.addEventListener("click",(function(t){t.preventDefault(),h(E.scrollTo,{target:e.target})}))}}])&&Ce(t.prototype,n),i&&Ce(t,i),e}();var Me=n("pvl8");n("gZXI");function Ae(){return Promise.all([void document.querySelectorAll(".link-typed").forEach((function(e){new m(e)})),void document.querySelectorAll('[data-scroll-call="fadeIn"]').forEach((function(e){new R(e)})),void document.querySelectorAll('[data-scroll-call="splitLines"]').forEach((function(e){new X(e)})),void document.querySelectorAll('[data-scroll-call^="scale"]').forEach((function(e){new Q(e)})),void document.querySelectorAll("[data-scroll-indicator]").forEach((function(e){new w(e)})),void document.querySelectorAll('[data-scroll-call^="webgl"]').forEach((function(e){new se(e)})),void document.querySelectorAll('[data-scroll-call^="headerTheme"]').forEach((function(e){new fe(e)})),void document.querySelectorAll("[data-video-block]").forEach((function(e){new pe(e)})),void(e?e.querySelectorAll("[data-lazy-media]"):document.querySelectorAll("[data-lazy-media]")).forEach((function(e){new xe(e)})),void document.querySelectorAll("[data-local-time]").forEach((function(e){new Oe(e)})),void document.querySelectorAll("[data-smooth-scroll]").forEach((function(e){new Te(e)})),void document.querySelectorAll("[data-simplebar]").forEach((function(e){return new Me.a(e)})),void new _e]);var e}n("TeQF");var Le=n("kRpH"),Pe=n.n(Le),Ie=(n("toAj"),"#define GLSLIFY 1\nvarying vec2 v_uv;\n\nvoid main() {\n    v_uv = uv;\n    vec3 pos = position;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n}\n");function je(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ze=function(){function e(t,n,o,r){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=n,this.$els={body:P,el:t,visual:t.querySelector(".showcase-item__visual"),title:t.querySelector(".showcase-item__heading"),description:t.querySelector(".showcase-item__description"),arrows:P.querySelectorAll(".showcase-arrow"),link:t.querySelector("a"),scrollTrigger:t.querySelector('[data-scroll-call="webgl"]'),sections:document.querySelectorAll(".site-section")},this.duration=o,this.zoomAnimationSpeed=1.2,this.mainImage=this.$els.visual,this.images=[],this.sizes=new i.l(0,0),this.offset=new i.l(0,0),this.vertexShader=Ie,this.fragmentShader=r,this.clock=new i.c,this.PR=window.devicePixelRatio.toFixed(1),this.mouse=new i.l(0,0),this.hasClicked=!1,this.isZoomed=!1,this.imagesToPreload=[this.mainImage.dataset.image,this.mainImage.dataset.hoverImage,this.mainImage.dataset.scaleImage||this.mainImage.dataset.hoverImage],this.letterEffectLetter=this.$els.el.dataset.letter,this.letterEffectLetter&&this.imagesToPreload.push(this.letterEffectLetter),this.loader=new i.k,this.preload(this.imagesToPreload,(function(){s.initTile()})),this.bindEvent()}var t,n,o;return t=e,(n=[{key:"bindEvent",value:function(){var e=this;document.addEventListener(C.zoom,(function(t){var n=t.detail;e.zoom(n)})),document.addEventListener("mousemove",(function(t){e.onMouseMove(t)})),window.addEventListener("resize",(function(){e.onResize()})),this.$els.el.addEventListener("mouseenter",(function(){e.onPointerEnter()})),this.$els.el.addEventListener("mouseleave",(function(){e.onPointerLeave()})),this.$els.el.addEventListener("click",(function(t){e.onClick(t)}))}},{key:"onClick",value:function(e){e.preventDefault(),this.mesh&&e.target.hasAttribute("href")&&(this.hasClicked=!0,h(M.toggle,{open:!0,target:this}))}},{key:"onPointerEnter",value:function(){this.isHovering=!0,this.isZoomed||this.hasClicked||this.mesh&&v.g.to(this.uniforms.u_progressHover,this.duration,{value:1,ease:v.c.easeInOut})}},{key:"onPointerLeave",value:function(){var e=this;!this.mesh||this.isZoomed||this.hasClicked||v.g.to(this.uniforms.u_progressHover,this.duration,{value:0,ease:v.c.easeInOut,onComplete:function(){e.isHovering=!1}})}},{key:"onResize",value:function(){this.getBounds(),this.mesh&&(this.mesh.scale.set(this.sizes.x,this.sizes.y,1),this.uniforms.u_res.value.set(window.innerWidth/this.PR,window.innerHeight/this.PR))}},{key:"onMouseMove",value:function(e){this.isZoomed||this.hasClicked||v.g.to(this.mouse,.5,{x:e.clientX,y:e.clientY})}},{key:"onScroll",value:function(){v.g.to(this.uniforms.u_alpha,2,{value:1,delay:.3})}},{key:"initTile",value:function(){var e=this.images[0],t=this.images[1],n=this.images[2]||null,o=this.images[3];this.getBounds(),this.uniforms={u_alpha:{value:1},u_map:{type:"t",value:e},u_ratio:{value:c(this.sizes,e.image)},u_hovermap:{type:"t",value:t},u_hoverratio:{value:c(this.sizes,t.image)},u_scalemap:{type:"t",value:n||t},u_scaleratio:{value:c(this.sizes,n?n.image:t.image)},u_shape:{value:o},u_mouse:{value:this.mouse},u_progressHover:{value:0},u_progressClick:{value:0},u_time:{value:this.clock.getElapsedTime()},u_res:{value:new i.l(window.innerWidth,window.innerHeight)}},this.geometry=new i.h(1,1,1,1),this.material=new i.j({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader,transparent:!0,defines:{PI:Math.PI,PR:this.PR}}),this.mesh=new i.f(this.geometry,this.material),this.mesh.position.x=this.offset.x,this.mesh.position.y=this.offset.y,this.mesh.scale.set(this.sizes.x,this.sizes.y,this.PR),this.scene.mainScene.add(this.mesh),this.mainImage.classList.add("is-loaded")}},{key:"move",value:function(){!this.mesh||this.isZoomed||this.hasClicked||(this.getBounds(),v.g.set(this.mesh.position,{x:this.offset.x,y:this.offset.y}),v.g.to(this.mesh.scale,.3,{x:this.sizes.x,y:this.sizes.y,z:1}))}},{key:"update",value:function(){this.mesh&&(this.move(),this.isHovering&&(this.uniforms.u_time.value+=this.clock.getDelta()))}},{key:"zoom",value:function(e){var t=this,n=e.tile,i=e.open,o=n===this,r={x:o?window.innerWidth:this.sizes.x,y:o?window.innerWidth/2:this.sizes.y},s={x:o?0:this.offset.x,y:o?window.innerHeight/-3:this.offset.y},a=c(r,o?this.images[2].image:this.images[0].image),l=o?this.zoomAnimationSpeed/3:0;this.sizes.x=r.x,this.sizes.y=r.y,this.hide(!o,!i),this.uniforms.u_hovermap=this.uniforms.u_scalemap,this.uniforms.u_hoverratio=this.uniforms.u_scaleratio,v.g.to([this.$els.sections,"[data-scroll-indicator]"],this.zoomAnimationSpeed,{opacity:0,ease:v.b.easeInOut}),v.g.to(this.uniforms.u_progressClick,this.zoomAnimationSpeed,{value:o?1:0,ease:v.c.easeInOut,delay:l,onComplete:function(){t.isZoomed=o,t.hasClicked=i,v.g.to(t.uniforms.u_progressHover,t.duration,{value:o?1:0,ease:v.c.easeInOut,delay:l})}}),v.g.to(this.mesh.scale,this.zoomAnimationSpeed,{delay:2*l,x:r.x,y:r.y,ease:v.b.easeInOut,onUpdate:function(){t.getBounds()},onComplete:function(){PubSub.publish(T.toggle,{shouldOpen:o,target:t})}}),v.g.to(this.mesh.position,this.zoomAnimationSpeed,{delay:2*l,x:s.x,y:s.y,ease:v.b.easeInOut}),v.g.to(this.uniforms.u_hoverratio.value,this.zoomAnimationSpeed,{delay:2*l,x:a.x,y:a.y,ease:v.b.easeInOut})}},{key:"hide",value:function(e,t){var n=e&&!t?0:this.zoomAnimationSpeed;v.g.to(this.uniforms.u_alpha,.5,{delay:n,value:e&&!t?0:1,ease:v.d.easeIn}),v.g.to(this.$els.el,.5,{delay:n,alpha:e&&!t?0:1,force3D:!0})}},{key:"getBounds",value:function(){var e=this.mainImage.getBoundingClientRect(),t=e.width,n=e.height,o=e.left,r=e.top;this.sizes.equals(new i.l(t,n))||this.sizes.set(t,n),this.offset.equals(new i.l(o-window.innerWidth/2+t/2,-r+window.innerHeight/2-n/2))||this.offset.set(o-window.innerWidth/2+t/2,-r+window.innerHeight/2-n/2)}},{key:"preload",value:function(e,t){var n=this,o=0,r=e.length;e.forEach((function(e){!function(e,t){var o=n.loader.load(e,t);o.center.set(.5,.5),o.minFilter=i.d,o.generateMipmaps=!1,n.images.push(o)}(e,(function(){(o+=1)===r&&t()}))}))}}])&&je(t.prototype,n),o&&je(t,o),e}();n("TFPT");function De(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Be(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var qe=function(){function e(t,n,o,r){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=n,this.$els={body:P,el:t,images:De(t.querySelectorAll("[data-image]")),words:De(t.querySelectorAll("[data-word]"))},this.duration=o,this.strength=.3,this.perspective=1.75,this.animationSpeed=.5,this.sizes=new i.l(0,0),this.offset=new i.l(0,0),this.clock=new i.c,this.PR=window.devicePixelRatio.toFixed(1),this.mouse=new i.l,this.images=[],this.initEffectShell().then((function(){s.isLoaded=!0,s.isMouseOver&&s.onMouseOver(s.tempItemIndex),s.tempItemIndex=null,s.bindEvents(),s.init()}))}var t,n,o;return t=e,(n=[{key:"initEffectShell",value:function(){var e=this,t=[];this.items=this.itemsElements;var n=new i.k;return n.minFilter=i.d,n.generateMipmaps=!1,this.items.forEach((function(i,o){t.push(e.loadTexture(n,i.img?i.img.src:null,o))})),new Promise((function(n,i){Promise.all(t).then((function(t){t.forEach((function(t,n){e.items[n].texture=t.texture})),n()}))}))}},{key:"init",value:function(){this.position=new i.m(0,0,0),this.scale=new i.m(1,1,1),this.geometry=new i.h(1,1,32,32),this.uniforms={uTexture:{value:null},uOffset:{value:new i.l},uAlpha:{value:0}},this.material=new i.j({uniforms:this.uniforms,vertexShader:"\n        uniform vec2 uOffset;\n\n        varying vec2 vUv;\n\n        vec3 deformationCurve(vec3 position, vec2 uv, vec2 offset) {\n          float M_PI = 3.1415926535897932384626433832795;\n          position.x = position.x + (sin(uv.y * M_PI) * offset.x);\n          position.y = position.y + (sin(uv.x * M_PI) * offset.y);\n          return position;\n        }\n\n        void main() {\n          vUv =  uv + (uOffset * 2.);\n          vec3 newPosition = position;\n          newPosition = deformationCurve(position,uv,uOffset);\n          gl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition, 1.0 );\n        }\n      ",fragmentShader:"\n        uniform sampler2D uTexture;\n        uniform float uAlpha;\n\n        varying vec2 vUv;\n\n        vec2 scaleUV(vec2 uv,float scale) {\n          float center = 0.5;\n          return ((uv - center) * scale) + center;\n        }\n\n        void main() {\n          vec3 color = texture2D(uTexture,scaleUV(vUv,.9)).rgb;\n          gl_FragColor = vec4(color,uAlpha);\n        }\n      ",transparent:!0}),this.mesh=new i.f(this.geometry,this.material),this.scene.mainScene.add(this.mesh)}},{key:"bindEvents",value:function(){var e=this;this.items.map((function(t,n){var i=t.element;i.addEventListener("mouseover",(function(t){e.onMouseOver(n,t)})),i.addEventListener("mousemove",(function(t){e.onMouseMove(t)})),i.addEventListener("mouseleave",(function(t){e.onMouseLeave(t)}))}))}},{key:"onMouseEnter",value:function(){this.currentItem&&this.isMouseOver||(this.isMouseOver=!0,this.scene.camera.position.set(0,0,this.perspective),TweenLite.to(this.uniforms.uAlpha,this.animationSpeed,{value:1,ease:Power4.easeOut}))}},{key:"onMouseLeave",value:function(e){var t=this;this.isMouseOver=!1,TweenLite.to(this.uniforms.uAlpha,this.animationSpeed,{value:0,ease:Power4.easeOut,onComplete:function(){t.scene.camera.position.set(0,0,t.scene.perspective)}})}},{key:"onMouseMove",value:function(e){this.mouse.x=e.clientX/this.viewport.width*2-1,this.mouse.y=-e.clientY/this.viewport.height*2+1;var t=u(this.mouse.x,-1,1,-this.viewSize.width/2,this.viewSize.width/2),n=u(this.mouse.y,-1,1,-this.viewSize.height/2,this.viewSize.height/2);this.position=new i.m(t,n,0),TweenLite.to(this.mesh.position,1,{x:t,y:n,ease:Power4.easeOut,onUpdate:this.onPositionUpdate.bind(this)})}},{key:"onPositionUpdate",value:function(){var e=this.mesh.position.clone().sub(this.position).multiplyScalar(-this.strength);this.uniforms.uOffset.value=e}},{key:"onMouseOver",value:function(e,t){this.tempItemIndex=e,this.isLoaded&&(this.onMouseEnter(),this.currentItem&&this.currentItem.index===e||this.onTargetChange(e))}},{key:"onTargetChange",value:function(e){this.currentItem=this.items[e],this.imageRatio=this.currentItem.img.naturalWidth/this.currentItem.img.naturalHeight,this.scale=new i.m(this.imageRatio,1,1),this.uniforms.uTexture.value=this.currentItem.texture,this.mesh.scale.copy(this.scale)}},{key:"loadTexture",value:function(e,t,n){return new Promise((function(o,r){t?e.load(t,(function(e){e.minFilter=i.d,e.generateMipmaps=!1,o({texture:e,index:n})}),void 0,(function(e){r(e)})):o({texture:null,index:n})}))}},{key:"viewport",get:function(){var e=this.scene.container.clientWidth,t=this.scene.container.clientHeight;return{width:e,height:t,aspectRatio:e/t}}},{key:"viewSize",get:function(){var e=this.scene.camera.position.z,t=this.scene.camera.fov*Math.PI/180,n=2*Math.tan(t/2)*e;return{width:n*this.viewport.aspectRatio,height:n,vFov:t}}},{key:"itemsElements",get:function(){var e=this,t=[];if("self"===this.$els.el.dataset.webglHover){var n=this.$els.el.querySelector("[data-image]");t.push({element:this.$els.el,img:n,index:0})}else Promise.all(De(this.$els.words).filter((function(n,i){var o=n.dataset.word,r=e.$els.images.filter((function(e){return e.dataset.image===o}))[0];o&&r&&t.push({element:n,img:r,index:i})})));return t}}])&&Be(t.prototype,n),o&&Be(t,o),e}();var Re="#define GLSLIFY 1\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289(i);\n  vec4 p = permute( permute( permute(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\nuniform sampler2D u_map;\nuniform sampler2D u_hovermap;\n\nuniform float u_alpha;\nuniform float u_time;\nuniform float u_progressHover;\nuniform float u_progressClick;\n\nuniform vec2 u_res;\nuniform vec2 u_mouse;\nuniform vec2 u_ratio;\nuniform vec2 u_hoverratio;\n\nvarying vec2 v_uv;\n\nfloat circle(in vec2 _st, in float _radius, in float blurriness){\n    vec2 dist = _st;\n\t  return 1. - smoothstep(_radius-(_radius*blurriness), _radius+(_radius*blurriness), dot(dist,dist)*4.0);\n}\n\nvoid main() {\n  vec2 resolution = u_res * PR;\n  float time = u_time * 0.05;\n  float progress = u_progressClick;\n\n  float progressHover = u_progressHover;\n  vec2 uv = v_uv;\n  vec2 uv_h = v_uv;\n\n  vec2 st = gl_FragCoord.xy / resolution.xy - vec2(.5);\n  st.y *= resolution.y / resolution.x;\n\n  vec2 mouse = vec2((u_mouse.x / u_res.x) * 2. - 1.,-(u_mouse.y / u_res.y) * 2. + 1.) * -.5;\n  mouse.y *= resolution.y / resolution.x;\n\n  vec2 cpos = st + mouse;\n\n  float c = circle(cpos, .025 * progressHover + progress * 0.8, 2.);\n\n  float offX = uv.x + sin(uv.y + time * 2.) * 0.3;\n  float offY = uv.y - time * .6 - cos(time * 5.) * 0.7;\n  float nc = (snoise(vec3(offX, offY, time * .5) * 8.)) * progressHover;\n  float nh = (snoise(vec3(offX, offY, time * .5 ) * 2.)) * .03;\n\n  uv_h -= vec2(0.5);\n  uv_h *= 1. - u_progressHover * 0.1;\n  uv_h += vec2(0.5);\n\n  uv_h *= u_hoverratio;\n\n  uv -= vec2(0.5);\n  uv *= 1. - u_progressHover * 0.2;\n  uv *= u_ratio;\n  uv += vec2(0.5);\n\n  vec4 image = texture2D(u_hovermap, uv_h);\n  vec4 imageDistorted = texture2D(u_map, uv + vec2(nh) * progressHover);\n\n  float finalMask = smoothstep(.99, 1., pow(c, 2.) * 4. + nc * (1. - progress));\n\n  vec4 finalImage = mix(imageDistorted, image, clamp(finalMask + progress, 0., 1.));\n\n  gl_FragColor = vec4(finalImage.rgb, u_alpha);\n}\n",He="#define GLSLIFY 1\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289(i);\n  vec4 p = permute( permute( permute(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\nuniform sampler2D u_map;\nuniform sampler2D u_hovermap;\nuniform sampler2D u_shape;\n\nuniform float u_time;\nuniform float u_alpha;\n\nuniform vec2 u_res;\nuniform vec2 u_ratio;\nuniform vec2 u_hoverratio;\nuniform vec2 u_mouse;\nuniform float u_progressHover;\nuniform float u_progressClick;\n\nvarying vec2 v_uv;\n\nvoid main() {\n  vec2 resolution = u_res * PR;\n  vec2 uv = v_uv;\n  vec2 uv_h = v_uv;\n  float time = u_time * 0.05;\n  float progress = u_progressClick;\n  float progressHover = u_progressHover;\n\n  vec2 st = gl_FragCoord.xy / resolution.xy - vec2(.5);\n  st.y *= resolution.y / resolution.x;\n\n  vec2 mouse = vec2((u_mouse.x / u_res.x) * 2. - 1.,-(u_mouse.y / u_res.y) * 2. + 1.) * -.5;\n  mouse.y *= resolution.y / resolution.x;\n\n  uv -= vec2(0.5);\n  uv *= 1. - u_progressHover * 0.03;\n  uv *= u_ratio;\n  uv += vec2(0.5);\n\n  vec2 shapeUv = (st + mouse) * 3.;\n  shapeUv *= 1.2 - (progressHover + progress) * 0.8;\n  shapeUv /= progressHover;\n  shapeUv += vec2(.5);\n\n  vec4 shape = texture2D(u_shape, shapeUv);\n\n  float s = (shape.r) * 5. * (1. - progress);\n  float offX = uv.x + sin(uv.y + time * 2.) * 0.3;\n  float offY = uv.y - time * .6 - cos(time * 5.) * 0.7;\n  float n = snoise(vec3(offX, offY, time) * 5.) + 2.;\n\n  uv_h -= vec2(0.5);\n  uv_h *= 1. - progressHover * 0.05;\n  uv_h *= u_hoverratio;\n  uv_h += vec2(0.5);\n\n  vec4 image = texture2D(u_map, uv + mouse * 0.05 * progressHover * (1. - progress));\n  vec4 hover = texture2D(u_hovermap, uv_h + mouse * 0.5 * progressHover * (1. - progress));\n\n  float pct = smoothstep(.99, 1., clamp(n - s, 0., 1.) + progress);\n\n  vec4 finalImage = mix(image, hover, pct);\n\n  gl_FragColor = vec4(finalImage.rgb, u_alpha) ;\n  // gl_FragColor = vec4(vec3(pct), 1.);\n}\n";function Fe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ve(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}i.b.enabled=!0;var Ne=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.animationSpeed=1,this.perspective=800,this.effects={goo:Re,letter:He},this.W=window.innerWidth,this.H=window.innerHeight,this.mouse=new i.l(0,0),this.activeTile=null,this.init(),this.start(),this.bindEvent()}var t,n,o;return t=e,(n=[{key:"init",value:function(){this.renderer=new i.n({canvas:this.container,alpha:!0}),this.renderer.setSize(this.W,this.H),this.renderer.setPixelRatio(window.devicePixelRatio)}},{key:"bindEvent",value:function(){var e=this;document.addEventListener(M.toggle,(function(t){var n=t.detail;e.onToggleView(n)})),document.addEventListener(C.scroll,(function(t){var n=t.detail;e.onAnimate(n)})),window.addEventListener("resize",(function(){e.onResize()})),Pe.a.subscribe(k.out.end,(function(){e.start()})),Pe.a.subscribe(k.in.end,(function(){cancelAnimationFrame(e.rafID)}))}},{key:"onAnimate",value:function(e){var t=this.tiles.filter((function(e){return e.$els.scrollTrigger.dataset&&e.$els.scrollTrigger.dataset.show}));t&&Fe(t).map((function(e){return e.onScroll()}))}},{key:"start",value:function(){var e=this;this.$tiles=Fe(document.querySelectorAll("[data-hover-effect]")),this.$hoverImages=Fe(document.querySelectorAll("[data-webgl-hover]")),this.hasTiles=this.$tiles.length,this.mainScene=new i.i,this.initCamera(),this.initLights(),this.hasTiles&&(this.tiles=this.$tiles.map((function(t){var n=t.dataset.hoverEffect||"goo";return new ze(t,e,e.animationSpeed,e.effects[n])}))),this.$hoverImages.length&&(this.hoverImages=this.$hoverImages.map((function(t){return new qe(t,e,e.animationSpeed,e.effects.hover)}))),this.update()}},{key:"initCamera",value:function(){var e=2*Math.atan(this.H/2/this.perspective)*180/Math.PI;this.camera=new i.g(e,this.W/this.H,1,1e4),this.camera.position.set(0,0,this.perspective)}},{key:"initLights",value:function(){var e=new i.a(16777215,2);this.mainScene.add(e)}},{key:"onResize",value:function(){this.W=window.innerWidth,this.H=window.innerHeight,this.camera.aspect=this.W/this.H,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.W,this.H)}},{key:"onToggleView",value:function(e){var t=e.target,n=e.open;this.activeTile=t,h(E.stop,{lock:n}),h(C.zoom,{tile:this.activeTile,open:n})}},{key:"update",value:function(){var e=this;this.hasTiles&&this.tiles.forEach((function(e){e.update()})),this.renderer.render(this.mainScene,this.camera),this.rafID=requestAnimationFrame((function(){return e.update()}))}}])&&Ve(t.prototype,n),o&&Ve(t,o),e}();function $e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var We=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.touch=window.Modernizr&&window.Modernizr.touchevents,this.$els={scene:document.getElementById("scene")},this.$els.scene&&!this.touch&&this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.scene=new Ne(this.$els.scene)}}])&&$e(t.prototype,n),i&&$e(t,i),e}();var Xe=n("uvZ8"),Ue=n.n(Xe),Ye=n("x0D+");function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ze(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Je=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.DOM={overlay:".page-overlay",darkener:".page-darkener",page:".page-holder",wrapper:".wrapper"},this.overlay=document.querySelector(this.DOM.overlay),this.darkener=document.querySelector(this.DOM.darkener),this.page=document.querySelector(this.DOM.page),this.animationSpeed=1.5,this.pageMovementValue=200,PubSub.subscribe(k.in.start,(function(e,n){t.page=n.next.container.querySelector(t.DOM.page)}))}var t,n,i;return t=e,(n=[{key:"setGlobals",value:function(e){this.axis="horizontal"===e.direction?"x":"y",this.oppositeMovement=e.oppositeMovement}},{key:"showPage",value:function(e){var t=this;return new Promise((function(n,i){try{t.setGlobals(e),new v.e({onComplete:function(){n()}}).timeScale(4).add(t.showContent(e))}catch(e){i()}}))}},{key:"hidePage",value:function(e){var t=this;return new Promise((function(n,i){try{t.setGlobals(e);var o=new v.e({onComplete:function(){n()}});"x"==t.axis&&TweenLite.set(t.overlay,{y:"0",x:t.oppositeMovement?"-100%":"100%"}),o.add(t.showOverlay(e),0).add(t.hideContent(e),0)}catch(e){i()}}))}},{key:"hideContent",value:function(e){return this.setGlobals(e),(new v.e).add(this.movePageDown(e),0).add(this.showDarkener(e),0)}},{key:"showContent",value:function(e){return this.setGlobals(e),(new v.e).add(this.movePageUp(e))}},{key:"movePageUp",value:function(e){var t,n;return this.setGlobals(e),(new v.e).fromTo(this.page,this.animationSpeed,(Ge(t={},this.axis,"x"===this.axis?0:this.pageMovementValue),Ge(t,"overflow","hidden"),Ge(t,"zIndex",1020),t),(Ge(n={},this.axis,0),Ge(n,"clearProps","".concat(this.axis,", overflow, zIndex")),Ge(n,"ease",v.d.easeInOut),n),0)}},{key:"movePageDown",value:function(e){var t,n;return this.setGlobals(e),(new v.e).fromTo(this.page,this.animationSpeed,(Ge(t={},this.axis,0),Ge(t,"overflow","hidden"),Ge(t,"zIndex",1020),t),(Ge(n={},this.axis,this.oppositeMovement?this.pageMovementValue:-this.pageMovementValue),Ge(n,"clearProps","".concat(this.axis,", overflow, zIndex")),Ge(n,"ease",v.d.easeInOut),n),0)}},{key:"showDarkener",value:function(e){var t;return this.setGlobals(e),(new v.e).fromTo(this.darkener,this.animationSpeed,Ge({opacity:0},this.axis,0),(Ge(t={},this.axis,0),Ge(t,"opacity",1),Ge(t,"ease",v.d.easeInOut),Ge(t,"clearProps","opacity, ".concat(this.axis)),t),0)}},{key:"hideDarkener",value:function(e){var t;return this.setGlobals(e),(new v.e).fromTo(this.darkener,this.animationSpeed,Ge({opacity:1},this.axis,0),(Ge(t={},this.axis,0),Ge(t,"opacity",0),Ge(t,"ease",v.d.easeInOut),Ge(t,"clearProps","opacity, ".concat(this.axis)),t),0)}},{key:"showOverlay",value:function(e,t){var n;return this.setGlobals(e),(new v.e).fromTo(this.overlay,this.animationSpeed,Ge({},this.axis,this.oppositeMovement?"-100%":"100%"),(Ge(n={},this.axis,"0%"),Ge(n,"ease",v.d.easeInOut),Ge(n,"onComplete",(function(){t&&t()})),n))}},{key:"hideOverlay",value:function(e,t){var n;return this.setGlobals(e),(new v.e).fromTo(this.overlay,this.animationSpeed,Ge({},this.axis,"0%"),(Ge(n={},this.axis,this.oppositeMovement?"100%":"-100%"),Ge(n,"ease",v.d.easeInOut),Ge(n,"clearProps","x, y"),Ge(n,"onComplete",(function(){t&&t()})),n))}}])&&Ze(t.prototype,n),i&&Ze(t,i),e}();function Ke(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Qe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var et=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.touch=window.Modernizr&&window.Modernizr.touchevents,this.mainNav=document.querySelector(".main-nav"),this.links=Ke(this.mainNav.querySelectorAll(".list__link")),this.animationOverlay=new Je,this.progressClass="is-animating",this.ignoreAttr="data-ajax-ignore",this.animationSettings={direction:"vertical",oppositeMovement:!1},this.attachEvents(),this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=this,t=this;Ue.a.hooks.before((function(e){return new Promise((function(t,n){try{!function(e){var t=e.current.url.path,n=e.next.url.path;return t===n}(e)?t():window.location=e.current.url.path}catch(e){n()}}))})),Ue.a.hooks.beforeLeave((function(t){Object(Ye.disableBodyScroll)(P),L.classList.add(e.progressClass),Pe.a.publish(k.in.start,t)})),Ue.a.hooks.afterLeave((function(e){Pe.a.publish(k.out.start,e)})),Ue.a.hooks.after((function(t){return new Promise((function(n,i){try{L.classList.remove(e.progressClass),Pe.a.publish("ResetJS",t),e.activeLink=e.links.filter((function(e){return e.getAttribute("href")===t.next.url.path?e:(e.classList.remove("is-active"),!1)})),e.activeLink.length&&e.activeLink[0].classList.add("is-active"),n()}catch(e){i()}}))})),Ue.a.init({timeout:5e3,transitions:[{sync:!0,custom:function(e){var n=e.trigger;return!t.touch&&n.dataset&&"case"===n.dataset.ajax},leave:function(e){return new Promise((function(n){Pe.a.subscribeOnce(T.toggle,(function(){t.animationOverlay.showOverlay({direction:"vertical",oppositeMovement:!0},(function(){Pe.a.publish(k.in.end,e),n()}))}))}))},afterEnter:function(e){return new Promise((function(n){var i;return regeneratorRuntime.async((function(o){for(;;)switch(o.prev=o.next){case 0:n(),Pe.a.publish(k.out.end,e),t.animationOverlay.hideOverlay({direction:"vertical",oppositeMovement:!0}),i=setTimeout((function(){h(E.update),clearTimeout(i)}),t.animationOverlay.animationSpeed/3*1e3);case 4:case"end":return o.stop()}}))}))}},{sync:!0,leave:function(e){return new Promise((function(n){return regeneratorRuntime.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,regeneratorRuntime.awrap(t.animationOverlay.hidePage(t.animationSettings));case 2:n(),Pe.a.publish(k.in.end,e);case 4:case"end":return i.stop()}}))}))},afterEnter:function(e){return new Promise((function(n){return regeneratorRuntime.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n(),i.next=3,regeneratorRuntime.awrap(t.animationOverlay.showPage(t.animationSettings));case 3:Pe.a.publish(k.out.end,e),t.animationOverlay.movePageUp(t.animationSettings),t.animationOverlay.hideOverlay(t.animationSettings,(function(){h(E.update)}));case 6:case"end":return i.stop()}}))}))}}],prevent:function(t){return t.el.hasAttribute(e.ignoreAttr)},requestError:function(e,t,n,i){return!1}})}},{key:"attachEvents",value:function(){Pe.a.subscribe(k.in.start,(function(e,t){h(E.destroy)})),Pe.a.subscribe(k.out.end,(function(e,t){h(E.ready,t),Object(Ye.enableBodyScroll)(P)}))}}])&&Qe(t.prototype,n),i&&Qe(t,i),e}();var tt=n("+9ZR");function nt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var it=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.offTopClass="is-not-top",this.scrollTreshold=25,this.settings=Object.assign(this,t),this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.initScroll(),this.attachEvents()}},{key:"initScroll",value:function(){var e=this;this.scroll=new tt.a(this.settings),window.customScroll=this.scroll,this.scroll.on("scroll",(function(t){e.scrollData=t,e.checkPageTop(),h(E.scrolling,{scrollData:e.scrollData})})),this.scroll.on("call",(function(e,t,n){h(E.call,{scrollData:{name:e,direction:t,obj:n}})})),P.classList.remove(this.offTopClass)}},{key:"setWindowScroll",value:function(){window.scroll=this.scrollData&&this.scrollData.scroll}},{key:"checkPageTop",value:function(){this.scrollData.scroll.y>this.scrollTreshold?P.classList.add(this.offTopClass):P.classList.remove(this.offTopClass)}},{key:"update",value:function(){this.scroll.update()}},{key:"attachEvents",value:function(){var e=this;document.addEventListener(E.ready,(function(t){e.settings.el=t.detail.next.container,e.settings.elMobile=t.detail.next.container,e.initScroll()})),document.addEventListener(E.destroy,(function(){e.scroll.destroy()})),document.addEventListener(E.update,(function(){e.scroll.update()})),document.addEventListener(E.stop,(function(){e.scroll.stop()})),document.addEventListener(E.scrollTo,(function(t){e.scroll.scrollTo(t.detail.target)})),document.addEventListener(E.play,(function(){e.scroll.start()}))}}])&&nt(t.prototype,n),i&&nt(t,i),e}();function ot(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var rt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.holder=t,this.pageActiveClass="menu--opened",this.toggleActiveClass="toggler--active",this.menuAnimationSpeed=.55,this.rafID=null,this.outEventForbidden=!1,this.ease=v.a.easeOut,this.init(),this.attachEvents()}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=this;this.toggle=this.holder.querySelector("[data-menu-opener]"),this.overlay=this.holder.querySelector(".header-collapse__overlay"),this.collapse=this.holder.querySelector(".header-collapse"),this.scroller=this.holder.querySelector(".header-collapse__scroller"),this.collapseHolder=this.holder.querySelector(".header-collapse__holder"),this.menuItems=this.holder.querySelectorAll(".main-nav__item"),this.menuItemsText=this.holder.querySelectorAll(".main-nav .link__text"),this.staggers=this.holder.querySelectorAll(".info-box"),this.toggle.addEventListener("click",(function(t){t.preventDefault(),P.classList.contains(e.pageActiveClass)?e.close():e.open()})),Pe.a.subscribe(k.in.end,(function(){P.classList.contains(e.pageActiveClass)&&e.close()}))}},{key:"open",value:function(){this.reverseMovement=!1,P.classList.add(this.pageActiveClass),this.toggle.classList.add(this.toggleActiveClass),Object(Ye.disableBodyScroll)(this.scroller),this.animateMenuIn().play(),this.moveOverlay().play()}},{key:"close",value:function(){this.reverseMovement=!0,P.classList.remove(this.pageActiveClass),this.toggle.classList.remove(this.toggleActiveClass),this.animateMenuIn().reverse(0),this.moveOverlay().reverse(0)}},{key:"attachEvents",value:function(){var e=this;Pe.a.subscribe(k.in.end,(function(){P.classList.remove(e.pageActiveClass),e.toggle.classList.remove(e.toggleActiveClass)}))}},{key:"animateMenuIn",value:function(){var e=this,t=function(){Object(Ye.enableBodyScroll)(e.scroller)};v.f.set(this.menuItems,{overflow:"hidden",pointerEvents:"none",clearProps:"overflow, pointerEvents"});var n=new v.e({paused:!0,onComplete:function(){t()},onReverseComplete:function(){t()}});return n.staggerFromTo(this.menuItemsText,.5,{y:this.reverseMovement?-150:150,opacity:0},{y:0,opacity:1,ease:this.ease},this.reverseMovement?-.065:.065,.35),n.staggerFromTo(this.staggers,.5,{opacity:0},{opacity:1},.1,.5),n}},{key:"moveOverlay",value:function(){var e=this,t=new v.e({paused:!0,onComplete:function(){Pe.a.publish(b.end)},onReverseComplete:function(){Pe.a.publish(x.end),v.f.set(e.overlay,{clearProps:"all"})}});return t.fromTo(this.collapse,this.menuAnimationSpeed,{y:this.reverseMovement?"-100%":"100%",ease:this.reverseMovement?v.a.easeOut:v.a.easeIn},{y:"0%"},0),t.fromTo(this.overlay,this.menuAnimationSpeed,{y:this.reverseMovement?"100%":"-100%",ease:this.reverseMovement?v.a.easeOut:v.a.easeIn},{y:"0%"},0),t.fromTo(this.collapseHolder,.35,{autoAlpha:0},{autoAlpha:1},"-=0.15"),t}}])&&ot(t.prototype,n),i&&ot(t,i),e}();function st(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function at(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var lt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.holder=t,this.holder&&(this.duration=2,this.init())}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=this;this.content=this.holder.querySelector(".intro-section__content"),this.progress=this.holder.querySelector(".section-counter__text"),this.animatedText=this.holder.querySelector('[data-word="now"]'),this.fadeItems=st(this.holder.querySelectorAll('[data-scroll-call="fadeIn"]')),this.splitItems=st(this.holder.querySelectorAll('[data-scroll-call="splitLines"]')),this.allItems=this.content.querySelectorAll('.word, [data-scroll-call="fadeIn"]'),this.timeline=new v.e({onUpdate:function(){var t=Math.round(100*e.timeline.progress(),10);e.progress&&(e.progress.innerHTML="".concat(t," - 100"))},onComplete:function(){e.hidePreloader().play()}}),Object(Ye.disableBodyScroll)(P),this.animate()}},{key:"triggerAnimationHandler",value:function(e){e.classList.add("is-inview");var t=new CustomEvent("triggerAnimation");e.dispatchEvent(t)}},{key:"animate",value:function(){var e=this;this.fadeItems.map((function(t){return e.triggerAnimationHandler(t)})),this.splitItems.map((function(t){return e.triggerAnimationHandler(t)}));var t=0;this.textBlink=new v.e({repeat:3,onRepeat:function(){t%2?e.animatedText.classList.add("italic-outline"):e.animatedText.classList.remove("italic-outline"),t+=1},onComplete:function(){e.animatedText.classList.add("italic-outline")}}),this.textBlink.to(this.animatedText,this.duration/3,{yoyo:!0,opacity:0,ease:Expo.easeInOut}),this.timeline.add(this.textBlink),this.timeline.play()}},{key:"hidePreloader",value:function(){var e=this,t=new v.e({onComplete:function(){PubSub.publish(S.end),TweenMax.to(e.holder,1,{y:"-100%",ease:Circ.easeInOut,onComplete:function(){Object(Ye.enableBodyScroll)(P),e.holder.remove()}})}});return t.staggerFromTo(r(this.allItems).sort((function(){return.5-Math.random()})),1,{opacity:1},{opacity:0},.05),t}}])&&at(t.prototype,n),i&&at(t,i),e}();function ut(){navigator.platform.indexOf("Mac")>-1||L.classList.add("is-win")}document.ready((function(){return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(Ae());case 2:i=void 0,i=document.getElementById("preloader"),new lt(i),new et,n=void 0,n=document.querySelector(".header"),new rt(n),t=void 0,t=window.Webgl||{},window.Webgl=t,t.Stage=new We,ut(),PubSub.subscribe(S.end,(function(){var e,t;t=e?e.querySelector(".wrapper"):document.querySelector(".wrapper"),new it({el:t,elMobile:t,smooth:!0,smoothMobile:!1,getDirection:!0,inertia:.65}),L.classList.remove("is-loading")})),PubSub.subscribe("ResetJS",(function(e,t){return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(Ae());case 2:case"end":return e.stop()}}))}));case 9:case"end":return e.stop()}var t,n,i}))}))}},[[0,1,2,4,5,3]]]);